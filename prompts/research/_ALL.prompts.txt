GO MODULE: core_river_fundamentals
# Research Prompt Template (v2)

ROLE
You are the Content Generator for Poker Analyzer. Produce three files for a single module:
- content/core_river_fundamentals/v1/theory.md
- content/core_river_fundamentals/v1/demos.jsonl
- content/core_river_fundamentals/v1/drills.jsonl

BOUNDARIES
- ASCII-only. Straight quotes. "-" only. No links, no tables.
- Valid JSONL for demos/drills. Each line is a standalone JSON object.
- IDs: "core_river_fundamentals:demo:NN" and "core_river_fundamentals:drill:NN".
- Use POSITIONS (UTG, MP, CO, BTN, SB, BB).

STYLE
- Audience: beginner, mobile-first. Clear, coach-like.
- theory.md = 450-600 words, sections strictly:
  1) What it is (2-3 lines)
  2) Why it matters (2-3 lines)
  3) Rules of thumb (3-6 bullets, each adds a short "why")
  4) Mini example (3-6 lines, legal action order)
  5) Common mistakes (3 bullets: why it is a mistake + why players make it)
  6) Mini-glossary (2-5 entries, one line each)
  7) Contrast (1 line)

MODULE
- Module ID: core_river_fundamentals
- Short scope: River strategy: value vs bluff, sizing (incl. overbet), bluffcatching, blockers, showdown.
- SpotKind allowlist (strict):
l2_river_sizing
l2_river_value
l2_river_bluffcatch
l2_river_blockers
l2_river_check_raise
- Target tokens allowlist (tokens only, snake_case):
bet_big_river
bet_small_river
overbet_river
thin_value
value_bet
bluffcatch
blocker_bluff
check_back
check_call
check_fold
check_raise
polarize
bettor_shows_first
first_active_left_of_btn_shows

CONTENT RULES
- If you mention open sizes, include the phrase "typical online" where appropriate.
- Min-raise math and showdown order must be correct when used.
- Demos.jsonl: 2-3 items; steps <= 1 line each.
- Drills.jsonl: 12-16 items; each has fields id, spot_kind, question, target, rationale.
- spot_kind must be from the allowlist. target must be a snake_case token.
- Keep all output ASCII-only.

OUTPUT FORMAT
content/core_river_fundamentals/v1/theory.md
<theory.md content>

bash
Copy code

content/core_river_fundamentals/v1/demos.jsonl
<one JSON object per line> ```
content/core_river_fundamentals/v1/drills.jsonl

pgsql
Copy code
<one JSON object per line>
INTERNAL QA LOOP

ASCII-only; normalize any smart quotes or dashes.

Theory.md within word-range; all sections present in the exact order.

Mini example legality: action order correct; folded players never act; pots consistent; streets end logically.

Use POSITIONS (UTG, MP, CO, BTN, SB, BB). Fail if "Seat " appears anywhere.

If showdown order appears, include drills for both "bettor_shows_first" and "first_active_left_of_btn_shows".

Demos: 2-3 items. Drills: 12-16 items. Unique IDs. Valid JSONL. No extra commentary.

GO MODULE: core_board_textures

Research Prompt Template (v2)
ROLE
You are the Content Generator for Poker Analyzer. Produce three files for a single module:

content/core_board_textures/v1/theory.md

content/core_board_textures/v1/demos.jsonl

content/core_board_textures/v1/drills.jsonl

BOUNDARIES

ASCII-only. Straight quotes. "-" only. No links, no tables.

Valid JSONL for demos/drills. Each line is a standalone JSON object.

IDs: "core_board_textures:demo:NN" and "core_board_textures:drill:NN".

Use POSITIONS (UTG, MP, CO, BTN, SB, BB).

STYLE

Audience: beginner, mobile-first. Clear, coach-like.

theory.md = 450-600 words, sections strictly:

What it is (2-3 lines)

Why it matters (2-3 lines)

Rules of thumb (3-6 bullets, each adds a short "why")

Mini example (3-6 lines, legal action order)

Common mistakes (3 bullets: why it is a mistake + why players make it)

Mini-glossary (2-5 entries, one line each)

Contrast (1 line)

MODULE

Module ID: core_board_textures

Short scope: Board taxonomy (dry/wet, paired, monotone/two_tone), static vs dynamic, range & nut advantage cues.

SpotKind allowlist (strict):
none

Target tokens allowlist (tokens only, snake_case):
dry_board
wet_board
paired_board
monotone
two_tone
static_board
dynamic_board
range_advantage
nut_advantage
broadway_heavy
low_connected
wheel_board
ace_high_board
rainbow
two_tone_board
monotone_board
paired_low
paired_high
straightening

CONTENT RULES

If you mention open sizes, include the phrase "typical online" where appropriate.

Min-raise math and showdown order must be correct when used.

Demos.jsonl: 2-3 items; steps <= 1 line each.

Drills.jsonl: 12-16 items; each has fields id, spot_kind, question, target, rationale.

spot_kind must be from the allowlist. target must be a snake_case token.

Keep all output ASCII-only.

OUTPUT FORMAT
content/core_board_textures/v1/theory.md

css
Copy code
<theory.md content>
content/core_board_textures/v1/demos.jsonl

pgsql
Copy code
<one JSON object per line>
content/core_board_textures/v1/drills.jsonl

pgsql
Copy code
<one JSON object per line>
INTERNAL QA LOOP

ASCII-only; normalize any smart quotes or dashes.

Theory.md within word-range; all sections present in the exact order.

Mini example legality: action order correct; folded players never act; pots consistent; streets end logically.

Use POSITIONS (UTG, MP, CO, BTN, SB, BB). Fail if "Seat " appears anywhere.

Demos: 2-3 items. Drills: 12-16 items. Unique IDs. Valid JSONL. No extra commentary.
# Добавит строку "none" сразу после пустого target_tokens_allowlist:
perl -0777 -pe "s/target_tokens_allowlist:\s*(?=module_id:|\Z)/target_tokens_allowlist:\nnone\n/sg" -i prompts/dispatcher/_ALL.txtGO MODULE: core_equity_realization

GO MODULE: core_equity_realization
GO MODULE: core_bet_sizing_fe
GO MODULE: core_bet_sizing_fe
GO MODULE: core_equity_realization
# Research Prompt Template

ROLE
You are the Content Generator for Poker Analyzer. Produce three files for a single module:
- content/core_bet_sizing_fe/v1/theory.md
- content/core_bet_sizing_fe/v1/demos.jsonl
- content/core_bet_sizing_fe/v1/drills.jsonl

BOUNDARIES
- ASCII-only. Straight quotes. Use "-" (hyphen) not long dashes. No links, no tables.
- Normalize any non-ASCII punctuation from this prompt to ASCII in your output.
- Paths must match exactly. No extra commentary in output.
- Valid JSONL for demos/drills. Each line is a standalone JSON object.
- IDs must be unique and follow: "core_bet_sizing_fe:demo:NN" and "core_bet_sizing_fe:drill:NN".
- Place image placeholders where helpful using this exact syntax on their own lines:
  [[IMAGE: <slug> | <caption>]]
  Slug: lowercase a-z0-9_ only. Caption: short, ASCII.
- Use POSITIONS (UTG, MP, CO, BTN, SB, BB) when describing action; avoid "Seat X".

STYLE OVERRIDE
- Audience: beginner-friendly, mobile-first learners new to Hold'em
- Tone: clear, coach-like, step-by-step; zero jargon without definition
- Theory.md = 450-600 words with sections (exact order):
  1) What it is (2-3 lines)
  2) Why it matters (2-3 lines)
  3) Rules of thumb (3-5 bullets) - each bullet adds a short "why"
  4) Mini example (3-5 lines) - use positions, not seat numbers
  5) Common mistakes (3 bullets) - for each: why it is a mistake AND why players make it
  6) Mini-glossary (only if new terms appear): 2-4 entries, one line each
  7) Contrast line: one sentence comparing to the adjacent module

MODULE SPECIFICS
- Module ID: core_bet_sizing_fe
- Focus: Bet sizing: small/medium/large/overbet, polar vs merge, frequencies and exploit cues.
- Use positions (UTG, MP, CO, BTN, SB, BB) in examples when relevant.
- Include live vs online conventions when relevant. If you give open sizes in "bb", include the phrase "typical online".

SPOTKIND ALLOWLIST (strict - use ONLY these kinds)
none

TARGET TOKENS ALLOWLIST (snake_case; put "none" if unused)
none

OUTPUT FORMAT
Return only the three files in this order, separated by clear file headers:

content/core_bet_sizing_fe/v1/theory.md
```
<theory.md content>
```

content/core_bet_sizing_fe/v1/demos.jsonl
```
<one JSON object per line>
```

content/core_bet_sizing_fe/v1/drills.jsonl
```
<one JSON object per line>
```

INTERNAL QA LOOP
Do not output files until ALL checks pass. If any check fails, revise silently and re-run.
- ASCII-only; normalize to " ' - ; no links/tables.
- Theory.md: 450-600 words; all sections present; contrast line included.
- Mini example legality: action order correct; folded players never act; pots consistent; streets end logically; showdown rule consistent.
- Use POSITIONS (UTG, MP, CO, BTN, SB, BB). Fail if "Seat " appears anywhere.
- If the text mentions EV or angle shooting, Mini-glossary MUST include lines starting with "EV:" and "Angle shooting:".
- If you mention open sizes with "bb", include the phrase "typical online".
- Demos.jsonl: 2-3 items; steps one line each; ASCII-only.
- Drills.jsonl: 12-16 items; each rationale <= 1 line; ASCII-only; IDs unique and match "core_bet_sizing_fe:(demo|drill):NN".
- SpotKind: must be one of the values listed in SPOTKIND ALLOWLIST above.
- Target labels: snake_case tokens only (no sentences).
- If min-raise math appears, enforce: new_total - current_bet >= last_raise_size.
- If showdown is discussed, include both cases: "bettor_shows_first" and "first_active_left_of_btn_shows".
- Edge cases (include only if relevant to the module): short all-in (< min-raise) and whether betting reopens; out-of-turn; string bet vs legal single motion.
- Image placeholders: include 1-3 well-placed [[IMAGE: ... | ...]] lines in theory.md when helpful.
- Output contract: exact paths; valid JSONL; no extra commentary.
# Research Prompt Template

ROLE
You are the Content Generator for Poker Analyzer. Produce three files for a single module:
- content/core_equity_realization/v1/theory.md
- content/core_equity_realization/v1/demos.jsonl
- content/core_equity_realization/v1/drills.jsonl

BOUNDARIES
- ASCII-only. Straight quotes. Use "-" (hyphen) not long dashes. No links, no tables.
- Normalize any non-ASCII punctuation from this prompt to ASCII in your output.
- Paths must match exactly. No extra commentary in output.
- Valid JSONL for demos/drills. Each line is a standalone JSON object.
- IDs must be unique and follow: "core_equity_realization:demo:NN" and "core_equity_realization:drill:NN".
- Place image placeholders where helpful using this exact syntax on their own lines:
  [[IMAGE: <slug> | <caption>]]
  Slug: lowercase a-z0-9_ only. Caption: short, ASCII.
- Use POSITIONS (UTG, MP, CO, BTN, SB, BB) when describing action; avoid "Seat X".

STYLE OVERRIDE
- Audience: beginner-friendly, mobile-first learners new to Hold'em
- Tone: clear, coach-like, step-by-step; zero jargon without definition
- Theory.md = 450-600 words with sections (exact order):
  1) What it is (2-3 lines)
  2) Why it matters (2-3 lines)
  3) Rules of thumb (3-5 bullets) - each bullet adds a short "why"
  4) Mini example (3-5 lines) - use positions, not seat numbers
  5) Common mistakes (3 bullets) - for each: why it is a mistake AND why players make it
  6) Mini-glossary (only if new terms appear): 2-4 entries, one line each
  7) Contrast line: one sentence comparing to the adjacent module

MODULE SPECIFICS
- Module ID: core_equity_realization
- Focus: Equity realization: position/initiative, SPR (stack-to-pot), sizing & texture, HU vs multiway.
- Use positions (UTG, MP, CO, BTN, SB, BB) in examples when relevant.
- Include live vs online conventions when relevant. If you give open sizes in "bb", include the phrase "typical online".

SPOTKIND ALLOWLIST (strict - use ONLY these kinds)
none

TARGET TOKENS ALLOWLIST (snake_case; put "none" if unused)
none

OUTPUT FORMAT
Return only the three files in this order, separated by clear file headers:

content/core_equity_realization/v1/theory.md
```
<theory.md content>
```

content/core_equity_realization/v1/demos.jsonl
```
<one JSON object per line>
```

content/core_equity_realization/v1/drills.jsonl
```
<one JSON object per line>
```

INTERNAL QA LOOP
Do not output files until ALL checks pass. If any check fails, revise silently and re-run.
- ASCII-only; normalize to " ' - ; no links/tables.
- Theory.md: 450-600 words; all sections present; contrast line included.
- Mini example legality: action order correct; folded players never act; pots consistent; streets end logically; showdown rule consistent.
- Use POSITIONS (UTG, MP, CO, BTN, SB, BB). Fail if "Seat " appears anywhere.
- If the text mentions EV or angle shooting, Mini-glossary MUST include lines starting with "EV:" and "Angle shooting:".
- If you mention open sizes with "bb", include the phrase "typical online".
- Demos.jsonl: 2-3 items; steps one line each; ASCII-only.
- Drills.jsonl: 12-16 items; each rationale <= 1 line; ASCII-only; IDs unique and match "core_equity_realization:(demo|drill):NN".
- SpotKind: must be one of the values listed in SPOTKIND ALLOWLIST above.
- Target labels: snake_case tokens only (no sentences).
- If min-raise math appears, enforce: new_total - current_bet >= last_raise_size.
- If showdown is discussed, include both cases: "bettor_shows_first" and "first_active_left_of_btn_shows".
- Edge cases (include only if relevant to the module): short all-in (< min-raise) and whether betting reopens; out-of-turn; string bet vs legal single motion.
- Image placeholders: include 1-3 well-placed [[IMAGE: ... | ...]] lines in theory.md when helpful.
- Output contract: exact paths; valid JSONL; no extra commentary.
